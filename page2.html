<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Usercentrics CCPA Test – Page 2</title>

  <link rel="preconnect" href="https://privacy-proxy.usercentrics.eu">
  <link rel="preload"
        href="https://privacy-proxy.usercentrics.eu/3.3.10/uc-block.bundle.js"
        as="script"
        crossorigin="anonymous">

  <script nonce="abc123nonce"
          id="usercentrics-cmp"
          src="https://app.usercentrics.eu/browser-ui/3.54.0/bundle.js"
          data-settings-id="BZrm1eYa-"
          async
          crossorigin="anonymous"></script>

  <script nonce="abc123nonce"
          src="https://privacy-proxy.usercentrics.eu/3.3.10/uc-block.bundle.js"
          crossorigin="anonymous"></script>

  <script nonce="abc123nonce">
    uc.blockOnly([
      'BJz7qNsdj-7', // YouTube
      'S1pcEj_jZX', // Google Maps
      'ctDbl6j2y'   // OnlyFy
    ]);

    uc.blockElements({
      'BJz7qNsdj-7': '#UC_SDP_Videos',
      'S1pcEj_jZX': '#UC_SDP_GoogleMap',
      'ctDbl6j2y': '#psJobWidget'
    });
  </script>

  <style>
    body { font-family: system-ui, sans-serif; padding: 2rem; }
    button, a { padding: 0.5rem 1rem; cursor: pointer; margin-top: 1rem; display: inline-block; }
    #UC_SDP_Videos, #UC_SDP_GoogleMap, #psJobWidget {
      margin-top: 1.5rem; padding: 1rem; border: 1px dashed #ccc;
    }
  </style>
</head>

<body>
  <h1>Usercentrics CCPA Test – Page 2</h1>
  <p>This page replicates the same CMP setup to test UC_UI persistence.</p>

  <a href="index.html">⬅️ Back to Page 1</a><br>
  <button id="reopen">Reopen Consent Layer (UC_UI.showSecondLayer)</button>

  <div id="UC_SDP_Videos">YouTube Block Div</div>
  <div id="UC_SDP_GoogleMap">Google Map Block Div</div>
  <div id="psJobWidget">OnlyFy Block Div</div>

  <script nonce="abc123nonce">
    document.getElementById("reopen").addEventListener("click", () => {
      if (typeof UC_UI !== "undefined" && UC_UI.showSecondLayer) {
        UC_UI.showSecondLayer();
        console.log("✅ UC_UI.showSecondLayer() executed (page2).");
      } else {
        console.error("❌ UC_UI not defined or showSecondLayer() missing (page2).");
      }
    });
  </script>
</body>
</html>
